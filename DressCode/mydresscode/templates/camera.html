{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dresscode - Camera</title>
    <link rel="stylesheet" href="{% static 'css/camera.css' %}">
</head>
<body>
    <div class="background-elements">
        <div class="floating-element element-1"></div>
        <div class="floating-element element-2"></div>
        <div class="floating-element element-3"></div>
        <div class="floating-element element-4"></div>
    </div>
    
    <header class="header">
        <div class="header-icons-left">
            <a href="{% url 'inicio' %}" class="back-button">‚Üê Volver</a>
            <div class="temperature-display">37¬∞C</div>
        </div>
        
        <div class="header-logo-main">
            <img src="{% static 'img/logo.png' %}" alt="Logo Dresscode" class="logo-main">
        </div>

        <div class="header-icons-right">
            <div class="profile-container">
                <button class="icon-button">
                    <img src="{% static 'img/foto-de-perfil.png' %}" alt="perfil" class="logo-small">
                </button>
                <div class="profile-dropdown">
                    <a href="#">Ver perfil</a>
                    <a href="{% url 'logout' %}">Cerrar sesi√≥n</a>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <h1 class="title">Agregar Prenda</h1>
        
        <div class="upload-options">
            <button id="camera-option" class="option-button active">
                <span class="option-icon">üì∑</span>
                <span>Usar C√°mara</span>
            </button>
            <button id="upload-option" class="option-button">
                <span class="option-icon">üìÅ</span>
                <span>Subir Archivo</span>
            </button>
        </div>
        
        <div class="camera-container" id="camera-container">
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas" style="display:none;"></canvas>
            <div id="photo-preview" class="photo-preview" style="display:none;"></div>
        </div>
        
        <div class="upload-container" id="upload-container" style="display:none;">
            <div class="upload-area" id="upload-area">
                <div class="upload-icon">üìÅ</div>
                <h3>Arrastra tu imagen aqu√≠</h3>
                <p>o haz clic para seleccionar</p>
                <input type="file" id="file-input" accept="image/*" style="display:none;">
            </div>
            <div id="file-preview" class="file-preview" style="display:none;"></div>
        </div>
        
        <div class="controls">
            <button id="capture-btn" class="capture-button">Tomar Foto</button>
            <button id="upload-btn" class="upload-button" style="display:none;">Seleccionar Imagen</button>
            <button id="retake-btn" class="retake-button" style="display:none;">Volver a Tomar</button>
            <button id="change-file-btn" class="change-file-button" style="display:none;">Cambiar Archivo</button>
            <button id="save-btn" class="save-button" style="display:none;">Guardar Prenda</button>
        </div>
        
        <div class="instructions">
            <p id="camera-instructions">Coloca la prenda frente a la c√°mara y aseg√∫rate de que est√© bien iluminada para obtener los mejores resultados.</p>
            <p id="upload-instructions" style="display:none;">Formatos aceptados: JPG, PNG, WEBP. Tama√±o m√°ximo: 10MB</p>
        </div>
    </main>
    <script>
        const INICIO_URL = "{% url 'inicio' %}";
    </script>

    <script src="{% static 'js/camera.js' %}"></script>
</body>
</html>