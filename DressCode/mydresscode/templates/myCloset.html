<!DOCTYPE html>
<html lang="es">
<head>
  {% load static %}
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mi armario</title>
  <link rel="stylesheet" href="{% static 'css/myCloset.css' %}">
</head>
<body>

  <header class="top-bar">
    <div class="header-left">Mi Armario</div>
    <div class="header-center">
      <img src="{% static 'img/logo.jpg' %}" alt="Logo Mi Armario" />
    </div> 
    <div class="header-right">
      <a href="{% url 'inicio' %}" class="header-icon">
        <img src="{% static 'img/iconoInicio.png' %}" alt="Inicio" />
      </a>
    </div>
  </header>

  <!-- Filtros -->
  <section class="filter-section">
    <nav class="filters">
      <button class="active">Todo</button>
      <button>Favoritos</button>
      <button>Ropa</button>
      <button>Accesorios</button>
      <button>Calzado</button>
    </nav>
    <!--p id="contador"># elementos</p-->
    <p id="contador">{{ prendas_del_armario|length}} elementos</p>
  </section>

  <section class="photo-grid" id="photoGrid">
    {% if prendas_del_armario %}
            {% for prenda in prendas_del_armario %}
                <div class="photo-item" data-id="{{ prenda.idPrenda }}" data-tipo="{{ prenda.tipo }}">
                    
                    <img 
                        src="{{ prenda.imagen }}" 
                        alt="{{ prenda.tipo }}" 
                        loading="lazy"
                        title="Tipo: {{ prenda.tipo }} | Color: {{ prenda.color }}"
                    >
                    
                    <div 
                        class="heart {% if prenda.esFavorito %}active{% endif %}"
                        data-prenda-id="{{ prenda.idPrenda }}"
                    ></div>
                    
                    </div>
            {% endfor %}
        {% else %}
            <p style="text-align: center; grid-column: 1 / -1; margin-top: 20px;">
                ¡Tu armario está vacío! 
            </p>
        {% endif %}
  </section>


  <footer class="bottom-nav">
    <a href="{% url 'inicio' %}" class="nav-btn">
      <img src="{% static 'img/iconoInicio.png'%}" alt="Inicio" />
      <span>Inicio</span>
    </a>
    <div class="nav-dot"></div>
    <a href="{% url 'añadir_prenda' %}" class="nav-btn">
      <img src="{% static 'img/iconoAñadir.jpg' %}" alt="Añadir" />
      <span>Añadir</span>
    </button>
  </footer>

    <div id="selectionActions" class="selection-actions hidden">
      <button id="cancelSelection" class="action-btn cancel">Cancelar</button>
      <span id="selectionCount">0 seleccionadas</span>

      <button id="deleteSelection" class="action-btn delete">
        <img src="{% static 'img/iconoDelete.png' %}" alt="Eliminar" />
      </button>
      
    </div>
    <div id="mensajeExito" class="mensaje-exito hidden">
      Eliminación exitosa
    </div>
    <div id="mensajeError" class="mensaje-flotante hidden">
      No se pudo eliminar
    </div>

  <script src="{% static 'js/myCloset.js' %}"></script>
</body>
</html>